<!doctype html>
<html>
	<title>
	</title>
	<body>
		<h1 id = "header"></h1>
    		<script>
			const key = "c336781b6b814c0e5fa41dbc45754025";
			const icons =
			{
				"01d": "â˜€ï¸", "02d": "â˜ï¸", "03d": "â˜ï¸",
				"04d": "â˜ï¸", "09d": "ğŸŒ§", "10d": "ğŸŒ§",
				"11d": "â›ˆ", "13d": "ğŸŒ¨", "50d": "ğŸŒ«",
				"01n": "ğŸŒ™", "02n": "â˜ï¸", "03n": "â˜ï¸",
				"04n": "â˜ï¸", "09n": "ğŸŒ§", "10n": "ğŸŒ§",
				"11n": "â›ˆ", "13n": "ğŸŒ§", "50n": "ğŸŒ«"
			};
			let lat;
			let lon;
			let icon;
			navigator.geolocation.getCurrentPosition(function(position)
			{
				let lon = (position.coords.longitude).toFixed(2);
				let lat = (position.coords.latitude).toFixed(2);
				console.log(lon, lat);
			});
			function setHeader(data)
			{
				document.getElementById("header").innerHTML = data;
			}
			async function getAPI(url)
			{
				const response = await fetch(url);
				const data = await response.json();
				icon = String(data.weather[0].icon);
			}
			console.log(lon, lat);
			getAPI(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${key}`);
			setHeader(icons[icon]);
		</script>
  	</body>
</html>

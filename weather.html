<!doctype html>
<html>
	<title>
	</title>
	<body>
    		<script>
			const key = "c336781b6b814c0e5fa41dbc45754025";
			const lat = 42;
			const lon = -79;
			const xhr = new XMLHttpRequest();
			const icons =
			{
				"01d": "SUN", "02d": "CLOUD", "03d": "CLOUD",
				"04d": "CLOUD", "09d": "RAIN", "10d": "RAIN",
				"11d": "THUNDERSTORM", "13d": "SNOW", "50d": "FOG",
				"01n": "MOON", "02n": "CLOUD", "03n": "CLOUD",
				"04n": "CLOUD", "09n": "RAIN", "10n": "RAIN",
				"11n": "THUNDERSTORM", "13n": "SNOW", "50n": "FOG"
			}
			xhr.open('GET', `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${key}`);
			xhr.send();
			xhr.onload = () =>
			{
    				const data = JSON.parse(xhr.response);
				const iconcode = String(data.weather[0].icon);
				console.log("This better fucking work.", iconcode, icons[iconcode]);
				const weather = document.createElement("H1");
				const icon = document.createTextNode(icons.iconcode);
				weather.appendChild(icon);
			}
		</script>
  	</body>
</html>
